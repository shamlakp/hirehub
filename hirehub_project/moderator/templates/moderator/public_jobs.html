{% extends "base.html" %}
{% block content %}
<h2>Available Job Vacancies</h2>
<div class="table-responsive">
  <table class="table table-bordered table-hover">
    <thead class="table-light">
      <tr>

        <th>Company</th>
        <th>Jobs</th>
        <th>Location</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for job in jobs %}
      <tr id="job-row-{{ job.id }}">
        <td>{{ job.company.company_name }}</td>
        <td>{{ job.position }}</td>
        <td>{{ job.location }}</td>
        <td>
          <a href="{% url 'moderator:job_detail' job.id %}" class="btn btn-sm btn-outline-primary rounded-pill px-4">
            <i class="bi bi-eye me-1"></i> View
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4">No jobs found.</td>
      </tr>
      {% endfor %}
    </tbody>

  </table>

  {% if not user.is_authenticated %}
  <div class="alert alert-info text-center mt-4">
    <p class="mb-2">You are viewing a limited selection of jobs.</p>
    <a href="{% url 'moderator:login' %}" class="btn btn-outline-primary btn-sm">Log in to view all jobs</a>
  </div>
  {% endif %}

</div>
</div>

{% endblock %}